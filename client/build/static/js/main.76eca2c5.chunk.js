(this.webpackJsonpbook_search=this.webpackJsonpbook_search||[]).push([[0],{37:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(29),o=n.n(i),r=(n(37),n(8)),a=n(32),l=n(19),j=n(9),d="SAVE_BOOK",b="FIND_BOOK",h="DELETE_SAVED",u="LOADING",O=n(0),m=Object(c.createContext)(),f=m.Provider,x=function(e,t){switch(t.type){case d:return Object(j.a)(Object(j.a)({},e),{},{savedBooks:Object(l.a)(t.savedBooks),loading:!1});case h:return Object(j.a)(Object(j.a)({},e),{},{books:e.books.filter((function(e){return e.id!==t.id})),loading:!1});case b:return Object(j.a)(Object(j.a)({},e),{},{books:Object(l.a)(t.books),loading:!1});case u:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});default:return e}},v=function(e){e.value;var t=Object(a.a)(e,["value"]),n=Object(c.useReducer)(x,{savedBooks:[],books:[],loading:!1}),s=Object(r.a)(n,2),i=s[0],o=s[1];return Object(O.jsx)(f,Object(j.a)({value:[i,o]},t))},g=function(){return Object(c.useContext)(m)},p=n(30),k=n(2),N=n(13),w=n.n(N),I=function(e){return w.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"+intitle:"+e+"&key=AIzaSyCRK9JtXfrmZsyeAw2jJy4W2NJq7cYaZU4")},y=function(e){return w.a.post("/api/book/",e)},F=function(){return w.a.get("/api/book")},S=function(e){return w.a.delete("api/book/".concat(e))},C=(n(57),function(){var e=Object(c.useRef)(),t=g(),n=Object(r.a)(t,2),s=(n[0],n[1]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"card",children:Object(O.jsx)("div",{className:"card-content",children:Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),I(e.current.value).then((function(e){s({type:u}),s({type:b,books:e.data.items})}))},className:"row",id:"form",children:[Object(O.jsx)("input",{name:"bookSearch",placeholder:"Enter book title",ref:e,className:"col s10"}),Object(O.jsx)("button",{className:"btn waves-effect waves-light col s2",type:"submit",name:"action",children:"Submit"})]})})})})}),L=(n(58),function(){var e=g(),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useRef)(),o=function(e){return e.volumeInfo.authors?e.volumeInfo.authors>1?Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Authors:"})," ",e.volumeInfo.authors.join(", ")]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author:"})," ",e.volumeInfo.authors.join("")]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author: "}),"No author found"]})};return Object(O.jsxs)("section",{className:"row",children:[console.log(n),n.loading?Object(O.jsx)("h1",{children:"Loading..."}):Object(O.jsx)(O.Fragment,{}),n.books.length?n.books.map((function(e){return Object(O.jsx)("div",{className:"col s12",id:e.id,children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card-image",children:e.volumeInfo.imageLinks?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:e.volumeInfo.title})," "]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("img",{src:"https://thumbs.dreamstime.com/b/no-image-available-icon-flat-vector-no-image-available-icon-flat-vector-illustration-132482953.jpg",alt:"Not found",style:{width:"128px",height:"182px"},ref:i})})}),Object(O.jsxs)("div",{className:"card-content",children:[Object(O.jsx)("h5",{children:e.volumeInfo.title}),o(e),e.volumeInfo.description?Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Description: "}),e.volumeInfo.description]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Description: "}),"No description available"]})]}),Object(O.jsxs)("div",{className:"card-action",children:[Object(O.jsx)("a",{href:e.volumeInfo.previewLink,target:"_blank",rel:"noreferrer noopener",children:Object(O.jsx)("button",{class:"btn waves-effect waves-light",children:"More info"})}),Object(O.jsx)("button",{class:"btn waves-effect waves-light",onClick:function(){!function(e){s({type:h,id:e.id}),y({title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.hasOwnProperty("imageLinks")?e.volumeInfo.imageLinks.smallThumbnail:"",link:e.volumeInfo.infoLink,bookId:e.id})}(e)},children:"Save to favorites"})]})]})},e.id)})):Object(O.jsx)("div",{id:"instructions",children:Object(O.jsx)("h4",{children:"No books available"})})]})}),A=function(e){var t=e.children;return Object(O.jsx)("article",{className:"container",children:t})},B=(n(59),function(e){var t=e.children,n=e.displayHome;return Object(O.jsxs)("div",{className:"card",children:[n?Object(O.jsx)("h3",{className:"cardTitle",children:"Results"}):Object(O.jsx)("h3",{className:"cardTitle",children:"Favorites"}),Object(O.jsx)("div",{className:"card-content",children:t})]})}),D=function(e){var t=e.displayHome;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(A,{children:[Object(O.jsx)(C,{}),Object(O.jsx)(B,{displayHome:t,children:Object(O.jsx)(L,{})})]})})},H=function(){var e=g(),t=Object(r.a)(e,2),n=t[0],s=t[1],i=function(){F().then((function(e){console.log(e),s({type:u}),s({type:d,savedBooks:e.data})})).catch((function(e){return console.log(e)}))},o=function(e){return e.authors.length?e.authors.length>1?Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Authors:"})," ",e.authors.join(", ")]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author:"})," ",e.authors.join("")]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author: "}),"No author found"]})};Object(c.useEffect)((function(){i()}),[]);return Object(O.jsx)(O.Fragment,{children:n.loading?Object(O.jsx)("h1",{children:"Loading..."}):function(){if(n.savedBooks.length)return Object(O.jsx)("section",{className:"row",children:n.savedBooks.map((function(e){return Object(O.jsx)("div",{id:e.bookId,className:"col s12",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("div",{className:"card-image",children:e.image?Object(O.jsx)("img",{src:e.image,alt:e.title}):Object(O.jsx)("img",{src:"https://thumbs.dreamstime.com/b/no-image-available-icon-flat-vector-no-image-available-icon-flat-vector-illustration-132482953.jpg",style:{width:"128px",height:"192px"},alt:"Not found"})}),Object(O.jsxs)("div",{className:"card-content",children:[Object(O.jsx)("h5",{children:e.title}),o(e),e.description?Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Description: "}),e.description]}):Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Description:"})," No description available"]})]}),Object(O.jsxs)("div",{className:"card-action",children:[Object(O.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer noopener",children:Object(O.jsx)("button",{className:"btn waves-effect waves-light",children:"More info"})}),Object(O.jsx)("button",{className:"btn waves-effect waves-light",onClick:function(){return t=e._id,void S(t).then((function(){i()}));var t},children:"Remove from favorites"})]})]})},e._id)}))})}()})},_=function(e){var t=e.displayHome;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(A,{children:Object(O.jsx)(B,{displayHome:t,children:Object(O.jsx)(H,{})})})})},E=function(e){var t=e.showHome,n=e.showFavorites;return Object(O.jsxs)("nav",{children:[Object(O.jsxs)("div",{className:"nav-wrapper",children:[Object(O.jsx)("a",{href:"/#",className:"brand-logo",onClick:function(){return t()},children:"Google Books"}),Object(O.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/#",onClick:function(){return t()},children:"Home"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"/#",onClick:function(){return n()},children:"Favorites"})})]})]}),Object(O.jsxs)("ul",{className:"sidenav",id:"mobile",children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"sass.html",children:"Sass"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"badges.html",children:"Components"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"collapsible.html",children:"JavaScript"})})]})]})},J=function(){var e=Object(c.useState)(!0),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),o=Object(r.a)(i,2),a=o[0],l=o[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E,{showHome:function(){s(!0),l(!1)},showFavorites:function(){l(!0),s(!1)}}),n?Object(O.jsx)(D,{displayHome:n}):a?Object(O.jsx)(_,{displayHome:n}):void 0]})};var R=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{children:Object(O.jsx)(v,{children:Object(O.jsx)(k.a,{exact:!0,path:"/",component:J})})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),i(e),o(e)}))};o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),T()}},[[65,1,2]]]);
//# sourceMappingURL=main.76eca2c5.chunk.js.map